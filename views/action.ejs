<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game Store - Your Gaming Paradise</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Anton&family=Dancing+Script:wght@600&family=Poppins:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
        :root {
        --bg-dark: #0a0a0a;
        --accent: #ff0000;
        --accent-hover: #cc0000;
        --muted: #ffffff;
        --dark-grey: #1a1a1a;
        --medium-grey: #2a2a2a;
        --light-grey: #3a3a3a;
        --text-grey: #999999;
        --transition-fast: 0.3s;
        --transition-slow: 0.6s;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      html {
        scroll-behavior: smooth;
      }

      body {
        background: linear-gradient(135deg, var(--bg-dark) 0%, #1a0000 100%);
        font-family: "Poppins", "Segoe UI", sans-serif;
        color: var(--muted);
        min-height: 100vh;
        overflow-x: hidden;
      }

      /* navbar */
      .header {
        background: linear-gradient(
          180deg,
          var(--dark-grey) 0%,
          rgba(26, 26, 26, 0.95) 100%
        );
        padding: 20px 40px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        border-bottom: 3px solid var(--accent);
        box-shadow: 0 5px 20px rgba(255, 0, 0, 0.2);
        animation: slideDown 1s ease;
        position: sticky;
        top: 0;
        z-index: 1000;
        backdrop-filter: blur(10px);
      }

      .logo {
        font-size: 32px;
        font-weight: 700;
        background: transparent;
        color: #ff0000; 
        background-clip: text;
        text-decoration: none;
        text-transform: uppercase;
        letter-spacing: 3px;
        transition: transform var(--transition-fast);
      }

      .logo:hover {
        transform: scale(1.05);
      }

      .nav-menu {
        display: flex;
        list-style: none;
        gap: 35px;
      }

      .nav-menu a {
        color: var(--muted);
        text-decoration: none;
        font-size: 16px;
        font-weight: 500;
        position: relative;
        transition: color var(--transition-fast);
      }

      .nav-menu a:hover {
        color: var(--accent);
      }

       .nav-menu a::after {   /*desiging the underline effect not shown now */
        content: "";
        height: 3px;
        background: linear-gradient(90deg, var(--accent), #ff6600);
        width: 0;
        position: absolute;
        left: 50%;
        bottom: -8px;
        transform: translateX(-50%);
        transition: width var(--transition-fast) ease-in-out;
      }

      .nav-menu a:hover::after {    /*hovering shows underline effect*/
        width: 100%;   
        left: 0;
        transform: translateX(0);
      }

      .header-right {
        display: flex;
        align-items: center;
        gap: 20px;
      }

      .cart-btn,
      .profile-btn {
        background: linear-gradient(135deg, var(--accent), #ff3366);
        color: #fff;
        padding: 10px 25px;
        border: none;
        border-radius: 30px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 600;
        transition: all var(--transition-fast);
        box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
      }

      .cart-btn:hover,
      .profile-btn:hover {
        background: linear-gradient(135deg, var(--accent-hover), #cc2855);
        transform: translateY(-2px) scale(1.05);
        box-shadow: 0 6px 20px rgba(255, 0, 0, 0.4);
      }

      /* main */
      .main-wrapper {
        display: flex;
        min-height: calc(100vh - 90px);
        animation: fadeIn var(--transition-slow) ease-in;
      }

      /* sidebar */
      .sidebar {
        width: 280px;
        background: linear-gradient(180deg, var(--dark-grey) 0%, #0f0f0f 100%);
        padding: 30px 20px;
        border-right: 2px solid var(--medium-grey);
        display: flex;
        flex-direction: column;
        box-shadow: 5px 0 20px rgba(0, 0, 0, 0.5);
      }

      .sidebar h3 {
        background: linear-gradient(45deg, var(--accent), #ff6600);
        background-clip: text;
        margin-bottom: 25px;
        font-size: 22px;
        text-transform: uppercase;
        letter-spacing: 1px;
      }

      .gift-cards {
        background: linear-gradient(
          135deg,
          var(--medium-grey),
          var(--light-grey)
        );
        padding: 20px;
        border-radius: 15px;
        margin-bottom: 30px;
        text-align: center;
        transition: all 0.4s;
        border: 2px solid transparent;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .gift-cards:hover {
        transform: translateY(-5px) scale(1.02);
        border-color: var(--accent);
        box-shadow: 0 10px 30px rgba(255, 0, 0, 0.2);
      }

      .gift-cards img {
        width: 100%;
        height: 140px;
        object-fit: cover;
        border-radius: 10px;
        margin-bottom: 10px;
      }

      .gift-cards p {
        color: var(--text-grey);
        margin: 10px 0;
        font-size: 14px;
      }

      .gift-cards button {
        background: linear-gradient(135deg, var(--accent), #ff3366);
        color: #ffffff;
        padding: 12px 25px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        width: 100%;
        font-weight: 600;
        font-size: 15px;
        transition: all var(--transition-fast);
        box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
      }

      .gift-cards button:hover {
        background: linear-gradient(135deg, var(--accent-hover), #cc2855);
        transform: scale(1.05);
      }

      .category-list {
  list-style: none;
  padding: 0;
  margin: 0;
}

.category-list li {
  margin-bottom: 12px;
  border-radius: 10px;
  overflow: hidden; /* keeps hover highlight clean around edges */
  transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out;
}

.category-list a {
  display: block;
  padding: 15px;
  background: linear-gradient(135deg, var(--medium-grey), rgba(42, 42, 42, 0.7));
  color: var(--text); /* use your main text color variable */
  text-decoration: none;
  border-left: 4px solid transparent;
  font-size: 15px;
  transition: all 0.3s ease-in-out;
  border-radius: 10px;
}

.category-list a:hover {
  background: linear-gradient(135deg, var(--light-grey), rgba(58, 58, 58, 0.8));
  border-left-color: var(--accent);
  transform: translateX(8px);
  box-shadow: 0 3px 10px rgba(255, 0, 0, 0.2);
  color: var(--accent-text, #fff); /* optional highlight text */
}

      /* content */
      .main-content {
        flex: 1;
        display: flex;
        flex-direction: column;
        background: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.5) 0%,
          rgba(26, 0, 0, 0.3) 100%
        );
      }

      /* hero */
      .hero {
        position: relative;
        width: 100%;
        height: 250px;
        display: flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        background: linear-gradient(135deg, #1a0000 0%, var(--bg-dark) 100%);
      }

      .hero::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: url("https://images.unsplash.com/photo-1511512578047-dfb367046420?w=1200")
          center/cover;
        opacity: 0.15;
        z-index: 0;
      }

      .title {
        position: relative;
        text-align: center;
        z-index: 1;
      }

      .title .game {
        font-family: "Anton", sans-serif;
        font-size: 180px;
        font-weight: 900;
        color: #cc0000;
        background-clip: text;
        letter-spacing: 12px;
        line-height: 1;
        text-shadow: 0 5px 20px rgba(255, 0, 0, 0.3);
      }

      .title .store {
        font-family: "Dancing Script", cursive;
        font-size: 90px;
        font-weight: 600;
        color: #ffcc00;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        text-shadow: 0 0 30px rgba(255, 204, 0, 0.5);
      }

      /* searchbar */
      .search-section {
        background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)),
          url("https://shared.akamai.steamstatic.com/store_item_assets/steam/apps/1285190/986a88d1b0e1420b00183def2a7034508353afa3/header.jpg?t=1758555255")
            center/cover;
        width: 100%;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        position: relative;
        box-shadow: inset 0 0 100px rgba(0, 0, 0, 0.8);
      }

      .search-bar {
        width: 100%;
        max-width: 700px;
        display: flex;
        background: rgba(0, 0, 0, 0.8);
        border-radius: 50px;
        overflow: hidden;
        border: 2px solid var(--accent);
        box-shadow: 0 10px 40px rgba(255, 0, 0, 0.3);
        animation: pulse 2s infinite alternate;
      }

      .search-input {
        flex: 1;
        padding: 18px 30px;
        background: transparent;
        border: none;
        color: #ffffff;
        font-size: 17px;
        outline: none;
      }

      .search-input::placeholder {
        color: rgba(255, 255, 255, 0.6);
      }

      .search-btn {
        background: linear-gradient(135deg, var(--accent), #ff3366);
        color: #ffffff;
        padding: 18px 40px;
        border: none;
        cursor: pointer;
        font-size: 17px;
        font-weight: 600;
        transition: all var(--transition-fast);
      }

      .search-btn:hover {
        background: linear-gradient(135deg, var(--accent-hover), #cc2855);
      }

      /* container*/
      .content-container {
        background: linear-gradient(
          180deg,
          var(--medium-grey) 0%,
          var(--dark-grey) 100%
        );
        padding: 50px 20px;
        margin-top: 0;
      }

     

      .main-poster {
        flex: 1;
      }

      .main-poster img {
        width: 600px;
        height: 350px;
        border-radius: 20px;
        object-fit: cover;
        box-shadow: 0 15px 50px rgba(0, 0, 0, 0.7);
        border: 3px solid var(--accent);
        transition: transform var(--transition-fast);
      }

      .main-poster img:hover {
        transform: scale(1.03);
      }

      .side-screens {
        display: flex;
        flex-direction: column;
        gap: 25px;
      }

      .side-screens img {
        width: 280px;
        height: 160px;
        border-radius: 15px;
        object-fit: cover;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
        border: 2px solid var(--medium-grey);
        transition: all var(--transition-fast);
      }

      .side-screens img:hover {
        transform: scale(1.05);
        border-color: var(--accent);
        box-shadow: 0 15px 40px rgba(255, 0, 0, 0.3);
      }

      .scroll-btn {
        padding: 25px 12px;
        background-color: var(--accent-color, #383131);
        color: white;
        border: none;
        border-radius: 6px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;

        transition: background-color 0.3s ease, box-shadow 0.3s ease,
          transform 0.2s ease;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        user-select: none;
      }

      .scroll-btn:hover {
        background: linear-gradient(135deg, var(--accent-hover), #cc2855);
        transform: scale(1.1);
        box-shadow: 0 8px 30px rgba(255, 0, 0, 0.5);
      }

      /* gamecards*/
      .games-section {
        max-width: 1400px;
        margin: 0 auto;
        padding: 60px 20px;
      }

      .section-title {
        font-size: 32px;
        margin-bottom: 40px;
        text-align: center;
        color: var(--muted);
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .game-row {
        display: flex;
        gap: 30px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .game-card {
        background: linear-gradient(
          135deg,
          var(--dark-grey),
          var(--medium-grey)
        );
        padding: 20px;
        border-radius: 15px;
        width: 280px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
        transition: all 0.4s ease;
        border: 2px solid transparent;
        position: relative;
        overflow: hidden;
      }

      .game-card::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          45deg,
          transparent,
          rgba(255, 0, 0, 0.1),
          transparent
        );
        transform: translateX(-100%);
        transition: transform 0.6s;
      }

      .game-card:hover::before {
        transform: translateX(100%);
      }

      .game-card:hover {
        transform: translateY(-10px) scale(1.02);
        border-color: var(--accent);
        box-shadow: 0 15px 50px rgba(255, 0, 0, 0.3);
      }

      .game-card img {
        width: 100%;
        border-radius: 10px;
        height: 180px;
        object-fit: cover;
        margin-bottom: 15px;
      }

      .game-info {
        text-align: center;
        margin: 15px 0;
      }

      .game-title {
        font-size: 18px;
        font-weight: 600;
        color: var(--muted);
        margin-bottom: 8px;
      }

      .game-price {
        font-size: 24px;
        color: var(--accent);
        font-weight: 700;
        margin-bottom: 15px;
      }

      .game-card button {
        margin-top: 10px;
        width: 100%;
        padding: 14px;
        border: none;
        border-radius: 30px;
        background: linear-gradient(135deg, var(--accent), #ff3366);
        color: #fff;
        font-weight: 700;
        font-size: 16px;
        cursor: pointer;
        transition: all var(--transition-fast);
        box-shadow: 0 4px 15px rgba(255, 0, 0, 0.3);
      }

      .game-card button:hover {
        background: linear-gradient(135deg, var(--accent-hover), #cc2855);
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(255, 0, 0, 0.5);
      }



      /* footer */
      .footer {
        background: linear-gradient(180deg, var(--dark-grey) 0%, #000000 100%);
        padding: 60px 40px 30px;
        margin-top: 0;
        border-top: 3px solid var(--accent);
        text-align: center;
        box-shadow: 0 -10px 40px rgba(255, 0, 0, 0.2);
      }

      .footer-content {
        max-width: 1200px;
        margin: 0 auto;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 40px;
        margin-bottom: 40px;
      }

      .footer-links a {
        color: var(--text-grey);
        text-decoration: none;
        font-size: 16px;
        transition: all 0.3s;
        position: relative;
      }

      .footer-links a:hover {
        color: var(--accent);
        transform: translateY(-2px);
      }

      .footer-links a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 50%;
        width: 0;
        height: 2px;
        background: var(--accent);
        transform: translateX(-50%);
        transition: width 0.3s;
      }

      .footer-links a:hover::after {
        width: 100%;
      }

      .social-media {
        margin: 30px 0;
      }

      .social-media h3 {
        color: var(--text-grey);
        margin-bottom: 20px;
        font-size: 18px;
      }

      .social-icons {
        display: flex;
        justify-content: center;
        gap: 20px;
      }

      .social-icon {
        width: 45px;
        height: 45px;
        background: var(--medium-grey);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--muted);
        text-decoration: none;
        transition: all 0.3s;
        font-size: 20px;
      }

      .social-icon:hover {
        background: var(--accent);
        transform: translateY(-5px) scale(1.1);
        box-shadow: 0 5px 20px rgba(255, 0, 0, 0.4);
      }

      .footer-bottom {
        color: #666666;
        margin-top: 40px;
        padding-top: 30px;
        border-top: 1px solid var(--medium-grey);
        font-size: 14px;
      }

      .footer-bottom p {
        margin: 10px 0;
      }
    </style>
  </head>

  <body>
    <%- include("partials/navbar") %>

    <!-- mainwrapper -->
    <%- include("partials/sidebar") %>

      <!-- mainconent -->
      <div class="main-content">
        <!-- hero -->
        <section class="hero">
          <div class="title">
            <span class="game">GAME</span>
            <span class="store">Store</span>
          </div>
        </section>

        <!-- searchbar -->
        <div class="search-section">
          <div class="search-bar">
            <input
              type="text"
              class="search-input"
              placeholder="Search for games, genres, or publishers..."
            />
            <button class="search-btn">Search</button>
          </div>
        </div>
         <section class="games-section">
    <h2 class="section-title">Top Action Games</h2>
    <div class="game-row" id="action-games"></div>
  </section>
  <div class="game-row">
  <% games.forEach(game => { %>
    <div class="game-card">
      <img src="<%= game.image %>" alt="<%= game.title %>">
      <div class="game-info">
        <h3 class="game-title"><%= game.title %></h3>
        <p class="game-price">$<%= game.price %></p>
      </div>
      <button class="add-to-cart-btn">Add to Cart</button>
    </div>
  <% }) %>
</div>
        
        

    <%- include("partials/footer") %>
   
 



    
 
 <script>
class Cart {
  constructor(cartCountId) {
    this.cartCountEl = document.getElementById(cartCountId);
    this.init();
  }

  // Initialize: attach button listeners
  init() {
    document.querySelectorAll(".add-to-cart-btn").forEach(btn => {
      btn.addEventListener("click", (e) => this.addToCart(e));
    });
  }

  // Add a game to cart
  async addToCart(event) {
    const btn = event.currentTarget;
    const card = btn.closest(".game-card");
    const title = card.querySelector(".game-title").innerText;
    const price = parseFloat(card.querySelector(".game-price").innerText.replace("$", "")) || 0;
    const image = card.querySelector("img").src;

    try {
      const res = await fetch("/add-to-cart", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ title, price, image })
      });

      const data = await res.json();

      if (data.success) {
        alert(`${title} added to cart!`);
        this.updateCartCount();
      } else {
        alert("Failed to add to cart: " + data.message);
      }
    } catch (err) {
      console.error("Error adding to cart:", err);
      alert("Error adding to cart");
    }
  }

  // Update cart counter
  updateCartCount() {
    if (this.cartCountEl) {
      const currentCount = parseInt(this.cartCountEl.textContent) || 0;
      this.cartCountEl.textContent = currentCount + 1;
    }
  }
}

// Initialize cart after DOM is ready
document.addEventListener("DOMContentLoaded", () => {
  new Cart("cart-count"); // Pass the ID of the cart counter element
});
</script>

</body>
</html>
